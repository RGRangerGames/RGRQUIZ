<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: left;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }




        .screen {
            
            /*height: 100vh;*/
            margin: 0;
            padding: 0;
            box-sizing: border-box
            width: 100%;
            background-size: cover;
            background-position: center;
            color: black;
        }
        .line {
            opacity: 0;
            transition: opacity 1s ease;
        }

        .info-box {
           
            background-color: black; /* Черный фон */
            color: white; /* Цвет текста */
            border-radius: 10px; /* Закругленные углы */
            padding: 10px; /* Внутренний отступ */
            text-align: center; /* Выравнивание текста по ширине */
            display: block; 
            margin: 0 auto; 
            max-width: 100%; 
            height: auto;
            margin-bottom: 10px;
            
        }

        #start-screen {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            background: #000;
            /*background-image: url('start-image-1.jpg');*/
        }
        #intro-screen {
            display: none;
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            background: #000;
            /*background-image: url('start-image-2.jpg');*/
        }

        #start-screen h1, #intro-screen h1 {
            font-size: 28px; /* Измените размер текста */
            color: #333; /* Измените цвет текста */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); /* Добавьте тень для эффекта */
        }

        #start-screen p, #intro-screen p {
            font-size: 18px; /* Измените размер текста */
            color: #fff; /* Измените цвет текста */
            margin-top: 10px;
        }    


        #start-screen button, #intro-screen button {
            display: block;
            width: 100%; /* Полная ширина, как у кнопок вопросов */
            margin: 10px 0;
            padding: 10px;
            background-color: white; /* Черный фон */
            color: black; /* Белый текст */
            border: none;
            border-radius: 5px; /* Скругленные углы */
            cursor: pointer;
            font-size: 16px; /* Размер шрифта */
            
        }

        #start-screen button:hover, #intro-screen button:hover {
            background-color: #444; /* Цвет фона при наведении */
        }


        #quiz-container {
            display: none;
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        #question-image {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }
        #question-text, #question-text-1 {
            font-size: 14px;
            color: #555;
            margin-bottom: 10px;
        }
        #question {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
            color: #000;
            margin: 20px 0;
        }
        #explanation {
            font-size: 14px;
            color: #666;
            margin-top: 20px;
        }
        .option {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            background-color: black;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .option.correct {
            background-color: green;
        }
        .option.incorrect {
            background-color: red;
        }
        #next-btn {
            display: none;
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #next-btn:hover {
            background-color: #0056b3;
        }
        #final-screen {
            display: none;
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        #cashback-result img {
            margin: 10px 0;
        }

    </style>
</head>
<body>



    <div id="start-screen" class="screen">
        <div class="screen-content">
                <img src="images/train.jpg" alt="train" style="display: block; max-width: 100%; height: auto;">

            
                <p сlass="line">Совсем скоро откроется трансферное окно, в котором «Локомотив» попробует усилиться, чтобы продолжить гонку за медалями и отыграть 4 очка отрыва.</p><br>
                <p сlass="line"> Но сейчас ошибаться в выборе игрока нельзя, как это бывало раньше.</p>
                <p сlass="line">Кроме того, нет денег на покупку нового сильного игрока...</p>
            <button onclick="goToIntro()">Далее</button>
        </div>
    </div>

    <div id="intro-screen" class="screen">
        <div class="screen-content">
                <img src="images/coin.png" alt="coin" style="display: block; max-width: 100%; height: auto;">
                <p сlass="line">RGR дает возможность получить кешбэк за провальные трансферы последних 20 лет.</p> <br>
                <p сlass="line">При правильных ответах на вопросы сумма их трансфера вернется, и в финале ты сможешь выбрать хорошего игрока для усиления.</p>
                <p сlass="line">Со всеми кандидатами на трансфер имеется предварительная договоренность.</p> <br>
                <p сlass="line">Все зависит от тебя!</p>
                <p сlass="line">Удачи! </p>
        <button onclick="startQuiz()">Начнем!</button>
        </div>
    </div>





    <div id="quiz-container">
        <img id="question-image" src="image1.jpg" alt="Question Image">
        <h2 id="question-text">Текст 1</h2>
        <h2 id="question-text-1"></h2>
        <h3 id="question"></h3>
        <div id="options"></div>
        <div id="explanation"></div>
        <button id="next-btn" onclick="nextQuestion()">Далее</button>
    </div>
    <div id="final-screen" style="display: none;">
        <div class="info-box">
        <h2>Спасибо тебе, болельщик московского Локомотива!</h2>
        <p> Благодаря твоей мыслительной работе клуб смог вернуть целых  <span id="transfer"></span> млн. евро! </p>
        <p> Теперь ты можешь потратить их на усиление состава. </p>
        </div>
        <br>
        <p>  <strong>Доступный трансферный бюджет: <span id="score-display"></span> млн. евро!  </strong></p><br>
            <p style="font-size: 12px; color: gray;">У тебя есть возможность три раза поменять игрока, просто нажми снова на кнопку.</p>
            <p style="font-size: 12px; color: gray;">Будь аккуратен, чем меньше останется доступного бюджета, то больше шанс, что выпадет клиент Шпинева.</p>
        <br>
        <button id="cashback-btn" onclick="getCashback()"style="background-color: black; color: white; border: none; padding: 10px 20px; cursor: pointer;">Получить кэшбэк</button>
        <div id="cashback-result" style="margin-top: 20px;"></div>
    </div>

    <script>
        const quizData = [
            {
                image1: "images/dacoshta_1.jpg",
                text1: "Мануэль Да Кошта запомнился своими удивительными 2 голами, которые перевернули игру с Зенитом в 2011.",
                text1_1: "Но в матче с ЦСКА португалец получил прямую красную карточку и больше не попадал в стартовый состав.",
                question: "На какой минуте это случилось?",
                options: ["3 минута", "7 минута", "46 минута", "92 минута"],
                correct: 1,
                explanation: " ",
                points: 2,
                image2: "images/dacoshta2.jpg",
                text2: "После того дерби, Мануэля к стартовому составу не подпускали и в следующее трансферное окно был продаван в Сивасспор.",
            },
            {
                image1: "images/sel1.jpg",
                text1: "Иногда топ клубы удивляют покупкой крайне молодого игрока за бешенные деньги. Что уж далеко ходить, но переход Эдегора в Реал помнят все.",
                text1_1: "Но однажды Локомотив пошел тем же путем и решил вложиться в новую звезду.",
                question: "Какого игрока Локомотив подписал в 16 летнем возрасте за 5 млн. долларов в 2006 году?",
                options: ["Майкон", "Фининьо", "Селсиньо", "Шарлес"],
                correct: 2,
                explanation: " ",
                points: 5,
                image2: "images/sel2.jpg",
                text2: "Именно поэтому Селсиньо перебрался в Россию со своей мамой, которую устроили работать в клуб.",
                text2_2: "Наследник Роналдиньо не смог адаптироваться ко взрослому футболу и стал больше времени проводить в кабаках, уничтожив будующую карьеру.",
            },
            {
                image1: "images/ibri1.jpg",
                text1: "Все мы любим различные статистические топ-листы, особенно когда в них входят игроки любимой команды.",
                question: "Какого игрока Смородская представила, как 'игрока, который входит в топ-10 в Европе' на позиции ЦП в 2011 году?",
                options: ["Ибричич", "Сапатер", "Хартияди", "Торбинский"],
                correct: 0,
                explanation: " ",
                points: 5,
                image2: "images/ibri2.jpg",
                text2: "Если в начале своего забега в Локомотиве его трансфер выглядел оправданно, не смотря на заявление Смородской, то уже в начале 2012 года все изменилось и играть он перестал.",
                text2_2: "Сенияд в открытую заявлял, что хочет вернуться в Хайдук, а в России, чтобы заработать денег.",
            },
            {
                image1: "images/Sapater1.jpg",
                text1: "В Локомотиве до прихода Дзюбы был тоже игрок, который называл себя Львом.",
                question: "Какой игрок Локомотива имел прозвище 'Лев из Эхеа' (El Leon de Ejea)?",
                options: ["Фернандеш", "Эдер", "Сапатер", "Да Кошта"],
                correct: 2,
                explanation: " ",
                points: 4,
                image2: "images/Sapater2.jpg",
                text2: "Рожденный в Эхеа-де-лос-Кабальерос Альберто Сапатер не смог за 4 года показать свой львиный характер на поле, потому что постоянно был в лазарете.",
            
            },
            {
                image1: "images/Basha1.jpg",
                text1: "Иногда футболисты попадают в стартовый состав не по игровым качествам.",
                question: "Кого Ольга Смородская называла в 2010 году самым красивым мужчиной в своем составе?",
                options: ["Денис Глушаков", "Милан Миланович", "Дмитрий Тарасов", "Марко Баша"],
                correct: 3,
                explanation: " ",
                points: 6,
                image2: "images/basha2.jpg",
                text2: "Марко Баша полноценно заменить травму Родолфо так и не смог.",
                
            },
            {
                image1: "images/mud1.jpg",
                text1: "Иногда переход игрока подписывает не легитимный президент клуба.",
                question: "Переход какого игрока из Крыльев Советов был подписан не легитимным президентом самарцев?",
                options: ["Муджири", "Салтыков", "Глушенков", "Бурлак"],
                correct: 0,
                explanation: " ",
                points: 3,
                image2: "images/mud2.jpg",
                text2: "Трансферный контракт был подписан Александром Барановским (экс-президентом Крыльев), а новое руководство не собиралось отпукать игрока. В феврале 2008 г. состоялась встреча представителей двух клубов, по итогом которой все притензии были сняты.",
                text2_2: "Из-за частых прогулов тренировок контракт с Давидом был разован в 2010 году.",
            },
            {
                image1: "images/fall1.jpg",
                text1: "Бай Джиби Фалл приехал в Локо, c надеждой стать основным игроком атаки.",
                text1_1: "Сенегалец не смог адаптироваться в России и был отправлен в аренду, в которой он умудрился стать лучшим бомбардиром.",
                question: "В чемпионат какой страны был отправлен Джиби Фалл?",
                options: ["Дания", "Швеция", "Финляндия", "Норвегия"],
                correct: 3,
                explanation: " ",
                points: 5,
                image2: "images/djibi2.jpg",
                text2: "Джиби Фалл забил 19 голов в составе Мольде и вернулся в Локомотив, чтобы продолжить свою голевую феерию.",
                text2_2: "Но по возвращению начал снова играть крайне плохо и ушел из команды.",
            },
            {
                image1: "images/king1.jpg",
                text1: "Помимо эпизода с фолом на Леандро Фернандесе в дерби с Динамо в 2006 году и длительной дисквалификации Ларри Кингстон запомнился ещё одной историей в этот день.",
                question: "Какой инцидент произошел с Кингстоном и Баффуром Гьяном, после того матча с Динамо?",
                options: ["Шли домой пешком", "Полиция отобрала права", "Их машину обстреляли", "Закрыли в раздевалке"],
                correct: 2,
                explanation: " ",
                points: 4,
                image2: "images/kingston2.jpg",
                text2: "Сидя на задних сиденьях Гьян и Кингстон услышали хлопок и отверстие от пули в заднем стекле.",
                text2_2: "Как утверждал потом Ларри, что он не придал этому особого значения, надеясь, что кто-то просто ошибся и не собирался стрелять именно в ганского весельчака, поэтому ответной стрельбы не последовало.",
            },
            {
                image1: "images/sharl1.jpg",
                text1: "Трансфер Шарлеса был максимально странный, потому что за неизвестного футболиста железнодорожники отдали целых 5 млн. евро",
                question: "Где подрабатывал Шарлес до перехода в Локомотив?",
                options: ["Автомойщик", "Музыкант", "Наркоторговец", "Полицейский"],
                correct: 0,
                points: 3,
                explanation: " ",
                image2: "images/sharl2.jpg",
                text2: "После работы на автомойке и перехода в Локо Шарлес не смог раскрыться из-за частых травм.",
                text2_2: "Российский период карьеры законичлся тем, что он сам выкупил себя у клуба и уехал обратно на родину."
            },
            {
                image1: "images/lev1.jpg",
                text1: "Иван Левенец вошел в историю Локомотива своим ляпом в матче за Суперкубок 2008 года, а также зярядом фанатов 'Левенец иди в атаку'!",
                text1_1: "Но за год до этого в составе Амкара, Иван стал единственным игроком, который сделал это.",
                question: "Каким рекордом обладает Иван Левенец в составе Амкара 2007 года?",
                options: ["Отбил все пенальти", "Сыграл все матчи", "Пропустил в каждом матче", "Отдал 5 голевых передач"],
                correct: 1,
                points: 3,
                explanation: " ",
                image2: "images/lev2.jpg",
                text2: "В сезоне 2007 года Иван был единственный игрок Амкара, который отыграл все матчи сезона в стартовом составе.",
                text2_2: "Но не смотря на это заиграть на должном уровне после того ужасного ляпа так и не смог, поэтому разорвал контракт и уехал на свою малую родину - Анапу. И на профессиональном уровне больше никогда не играл."
            },
            {
                image1: "images/zaki1.jpg",
                text1: "Египетский Бульдозер Амр Заки приехал в Россию  и сразу же заявил, что готов забить 28 голов в дебютном сезоне.",
                text1_1: "Но за все время в Локомотиве его ждали только 2 матча в первенстве дублеров.",
                question: "Сколько времени Амр Заки был игроком Локомотива?",
                options: ["Один день", "Восемь дней", "Один месяц", "Восемь месяцев"],
                correct: 3,
                points: 2,
                explanation: " ",
                image2: "images/zaki2.jpg",
                text2: "В январе 2006 г. наследник фараона подписал контракт, а уже в августе он возвращался на родину в Замалек.",
               
            },
            {
                image1: "images/mbark1.jpg",
                text1: "Некоторые трансферы иногда действительно золотые.",
                text1_1: "Когда за огромную трансферную стоимость совершается минимум результативных действий",
                question: "Кто является самым дорогим трансфером Локомотива?",
                options: ["Смолов", "Крыховяк", "Буссуфа", "Оденвингие"],
                correct: 2,
                points: 15,
                explanation: " ",
                image2: "images/mbark2.jpg",
                text2: "За переход Буссуфы Локомотив отдал 15 млн. евро, что до сих пор является рекордом",
                text2_2: "За 3 года в Локомотиве марроканец забил 3 гола, тем самым каждый его гол стоил по 5 млн. евро."
            },
            {
                image1: "images/xen1.jpg",
                text1: "Сразу же после продажи этого игрока, бывший клуб заявил, что данный игрок не подходит ДАЖЕ для них.",
                question: "Какой игрок не подходил для команды Залатко Захаровича, но перешел в Локо?",
                options: ["Игнатьев", "Хенти", "Фарфан", "Ньясс"],
                correct: 1,
                points: 5,
                explanation: " ",
                image2: "images/xen2.jpg",
                text2: "Переход Хенти шокировал в первую очередь руководство Марибора, в котором он играл, потому что железнодорожники готовы были его купить",
                text2_2: "Он забил всего 1 гол с пенальти в Локо и через 2 года Хенти был продан в 10 раз меньше/"
            }

        ];

        // Список изображений и их стоимости
        const cashbackImages = [
            
            //Дешевые

            { src: "images/kokorin07.jpg", price: 1 },
            { src: "images/chernov05.jpg", price: 1 },
            { src: "images/bayramyan1.jpg", price: 1 },
            { src: "images/paltzev2.jpg", price: 2 },
            { src: "images/kychaev12.jpg", price: 2 },
            { src: "images/kozlov2.jpg", price: 2 },
            { src: "images/kayo15.jpg", price: 2 },
            { src: "images/sytormin12.jpg", price: 2 },
            { src: "images/smolov15.jpg", price: 2 },
            { src: "images/sergeev3.jpg", price: 3 },
            { src: "images/zina25.jpg", price: 3 },
            { src: "images/gonsales28.jpg", price: 3 },
            { src: "images/Langovich3.jpg", price: 3 },
            { src: "images/pyanich25.jpg", price: 3 },
            { src: "images/shetinin28.jpg", price: 3 },
            { src: "images/vaxani3.jpg", price: 3 },
            { src: "images/gerdji25.jpg", price: 3 },
            { src: "images/vera3,2.jpg", price: 4 },
            { src: "images/musaev35.jpg", price: 4 },
            { src: "images/utkin35.jpg", price: 4 },
            { src: "images/alip35.jpg", price: 4 },
            { src: "images/komlichenko4.jpg", price: 4 },
            { src: "images/krivchov35.jpg", price: 4 },
            { src: "images/lenini35.jpg", price: 4 },

            //Бронза
            { src: "images/osip5.jpg", price: 5 },
            { src: "images/karavaeev5.jpg", price: 5 },
            { src: "images/kellven5.jpg", price: 5 },
            { src: "images/moises5.jpg", price: 5 },
            { src: "images/sronaldo5.jpg", price: 5 },
            { src: "images/sobolev6.jpg", price: 6 },
            { src: "images/chernikov6.jpg", price: 6 },
            { src: "images/daku7.jpg", price: 7 },
            { src: "images/glebov8.jpg", price: 8 },
            { src: "images/diveev8.jpg", price: 8 },
            { src: "images/Faizylaev8.jpg", price: 8 },
            { src: "images/oblyakov9.jpg", price: 9 },
            { src: "images/nino10.jpg", price: 10 },
            { src: "images/morata13.jpg", price: 13 },
            { src: "images/kordoba14.jpg", price: 14 },
            { src: "images/okafor15.jpg", price: 15 },

            //Бронза Rare
            { src: "images/tuk16.jpg", price: 16 },
            { src: "images/claudinio18.jpg", price: 18 },
            { src: "images/Lasar18.jpg", price: 18 },
            { src: "images/zaniolo18.jpg", price: 18 },
            { src: "images/mendi20.jpg", price: 20 },
            { src: "images/bilal20.jpg", price: 20 },
            { src: "images/messi20.jpg", price: 20 },
            { src: "images/spert20.jpg", price: 20 },
            { src: "images/Abraham20.jpg", price: 20 },
            { src: "images/loftusch20.jpg", price: 20 },
            
            //Серебро
            { src: "images/bellanova22.jpg", price: 22 },
            { src: "images/grizmann25.jpg", price: 25 },

            //Серебро Rare
            { src: "images/kyky30.jpg", price: 30 },
            { src: "images/maynt32.jpg", price: 32 },
            { src: "images/lern32.jpg", price: 32 },
            { src: "images/stouns32.jpg", price: 32 },

            //Золото Rare
            { src: "images/deBR35.jpg", price: 35 },
            { src: "images/brandt35.jpg", price: 35 },
            { src: "images/stani28.jpg", price: 35 },
            { src: "images/deket38.jpg", price: 38 },

            //Ultimate
            { src: "images/scalvini45.jpg", price: 45 },
            { src: "images/reinders50.jpg", price: 50 },
            { src: "images/teoern50.jpg", price: 50 },

            //Ultimate Plus
            { src: "images/mad60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },

/*

            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },
            { src: "images/.jpg", price: 60 },

            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },
            { src: "images/olmo60.jpg", price: 60 },

*/
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let transfer = 0;

        function goToIntro() {
             document.getElementById('start-screen').style.display = 'none';
             document.getElementById('intro-screen').style.display = 'block';
        }
        function startQuiz() {
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            loadQuestion();
        }


        function loadQuestion(questionIndex) {
            const questionData = quizData[questionIndex];
            document.getElementById("question-image").src = questionData.image1;
            document.getElementById("question-text").textContent = questionData.text1;
            document.getElementById("question-text-1").textContent = questionData.text1_1 || '';
            document.getElementById("question").textContent = questionData.question;

            const optionsDiv = document.getElementById("options");
            optionsDiv.innerHTML = '';

            questionData.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option');
                button.textContent = option;
                button.onclick = () => checkAnswer(index);
                optionsDiv.appendChild(button);
            });

            document.getElementById("explanation").textContent = '';
            document.getElementById("next-btn").style.display = 'none';
        }

        function checkAnswer(selectedIndex) {
            const questionData = quizData[currentQuestionIndex];
            const optionsDiv = document.getElementById("options");
            const buttons = optionsDiv.querySelectorAll('.option');

            buttons.forEach((button, index) => {
                button.disabled = true;
                if (index === selectedIndex) {
                    if (index === questionData.correct) {
                        button.classList.add('correct');
                        score += questionData.points;
                    } else {
                        button.classList.add('incorrect');
                    }
                }
            });

            // Update the image and text after the answer is selected
            document.getElementById("question-image").src = questionData.image2;
            document.getElementById("question-text").textContent = questionData.text2;
            document.getElementById("question-text-1").textContent = questionData.text2_2 || '';

            document.getElementById("explanation").textContent = questionData.explanation;
            document.getElementById("next-btn").style.display = 'block';
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion(currentQuestionIndex);
            } else {
                showFinalScreen();
            }
        }

        function showFinalScreen() {
            document.getElementById("quiz-container").style.display = 'none';
            document.getElementById("final-screen").style.display = 'block';
            transfer = score;
            document.getElementById("transfer").textContent = transfer;
            updateScoreDisplay();
            document.getElementById("final-score").textContent = score;

        }
        let clickCount = 0;
        function updateScoreDisplay() {
            const scoreDisplay = document.getElementById("score-display");
            scoreDisplay.innerHTML = `${score}`;
        }

// Вызываем эту функцию сразу при загрузке страницы
            window.onload = function() {
            updateScoreDisplay(); // Инициализируем отображение очков при старте
        };


        function getCashback() {
        // Проверяем, не достигли ли мы лимита нажатий
        if (clickCount >= 3) {
            const button = document.getElementById("cashback-btn");
            button.style.display = "none";  // Скрыть кнопку

            const cashbackDiv = document.getElementById("cashback-result");
            cashbackDiv.innerHTML += `
                <p>Спасибо тебе за помощь!</p>
                <p>Ты доволен новым приобретением?</p>
                <p>Попробуешь еще раз?</p>
                <button id="restart-btn" onclick="restartProgram()" style="background-color: black; color: white; border: none; padding: 10px 20px; cursor: pointer;">Начать сначала</button><br>
                <p style="font-size: 13px; color: gray;">RGR</p>

            `;
            return;
        }

        // Увеличиваем счетчик нажатий
        clickCount++;

        // Фильтруем изображения, чтобы найти те, стоимость которых <= набранным очкам
        const eligibleImages = cashbackImages.filter(image => image.price <= score);

        // Находим блок для отображения результатов
        const cashbackDiv = document.getElementById("cashback-result");

        // Показываем видео
        cashbackDiv.innerHTML = `
            <video id="cashback-video" width="300px" autoplay>
                <source src="images/gig.mp4" type="video/mp4">
                Ваш браузер не поддерживает видео.
            </video>
        `;

        // Блокируем кнопку, чтобы избежать повторного нажатия
        const button = document.getElementById("cashback-btn");
        button.disabled = true;

        // Ждем окончания видео перед заменой
        const video = document.getElementById("cashback-video");
        video.onended = () => {
            if (eligibleImages.length > 0) {
                // Выбираем случайное изображение из подходящих
                const randomIndex = Math.floor(Math.random() * eligibleImages.length);
                const cashbackImage = eligibleImages[randomIndex];

                // Заменяем видео на изображение
                cashbackDiv.innerHTML = `<img src="${cashbackImage.src}" style="display: block; margin: 0 auto; max-width: 100%; height: auto;">`;
                score -= cashbackImage.price;
                const scoreDisplay = document.getElementById("score-display");
                scoreDisplay.innerHTML = `${score}`;
                updateScoreDisplay();
            } else {
                // Если нет подходящих изображений
                cashbackDiv.innerHTML = `<p>У вас недостаточно очков для получения кэшбэка.</p>`;
            }

            // Разблокируем кнопку после завершения
            button.disabled = false;
            };


        }

        function restartProgram() {

            location.reload();
        }


        loadQuestion(currentQuestionIndex);
    </script>
</body>
</html>
